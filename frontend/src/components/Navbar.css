@import '../assets/variables.css';

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.main-header {
  background: linear-gradient(145deg, #fefefe, #f8fffe);
  border-bottom: 1px solid rgba(139, 195, 74, 0.2);
  box-shadow: 0 4px 16px rgba(76, 175, 80, 0.1);
  padding: 0 var(--spacing-lg);
  position: sticky;
  top: 0;
  z-index: var(--z-index-dropdown);
}

.navbar {
  background-color: #fff;
  display: flex;
  height: 100px;
  padding-right: 0 1rem; /* Menos padding lateral */
}

.order {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: auto;
  width: 100%;
  padding: 0 var(--spacing-md);
}

/* Logo */
.nav-logo {
  text-decoration: none;
  display: flex;
  align-items: center;
}

.nav-logo img {
  width: 73px;
  height: auto;
  border-radius: 50%;
  object-fit: cover;
  margin: 0 auto;
}

/* Contenedor del menú desplegable */
.dropdown {
  position: relative;
}

.dropdown-content {
  display: none;
  position: absolute;
  background: linear-gradient(145deg, #fefefe, #f8fffe);
  min-width: 170px;
  box-shadow: 0 12px 24px rgba(76, 175, 80, 0.15);
  z-index: var(--z-index-dropdown);
  list-style: none;
  border-radius: 16px;
  border: 1px solid rgba(139, 195, 74, 0.2);
  overflow: hidden;
  margin-top: 10px;
  padding-left: 0.5rem; /* Nueva propiedad: sin padding izquierdo */
}

.dropdown-content a {
  color: #333;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  border-bottom: none; /* Quitamos el borde de los links del menú */
}

.dropdown-content a:hover {
  background-color: #f1f1f1;
}

/* Estilo para botones dentro del dropdown, para que se vean como links */
.dropdown-content button {
  width: 100%;
  padding: 12px 16px;
  text-align: left;
  color: #333;
  background-color: transparent;
  border: none;
  font-size: inherit;
  font-family: inherit;
  cursor: pointer;
}

.dropdown-content button:hover {
  background-color: #f1f1f1;
}

/* Muestra el menú al pasar el cursor o al enfocar el contenedor */
/* En desktop, el menú de categorías se abre con hover */
.dropdown:not(.nav-profile-menu):hover .dropdown-content,
.dropdown:not(.nav-profile-menu):focus-within .dropdown-content {
  display: block;
}

/* El menú de perfil se abre con la clase .is-open (controlada por JS) */
.nav-profile-menu.is-open .dropdown-content {
  display: block;
}

/* Modificador para alinear el menú a la derecha */
.dropdown-right .dropdown-content {
  right: 0;
  left: auto;
}

/* Divisor para separar opciones en el menú */
.dropdown-divider {
  height: 1px;
  margin: 1vw 0;
  background-color: #eee;
}

/* Lista de categorías en la navbar de PC */
.nav-categories-list {
  display: flex;
  align-items: center;
  margin: auto 0;
  padding: 0;
  gap: 1.4rem; /* Espacio entre links */
  list-style: none;
  margin-bottom: 0; /* Sin margen inferior */
}

.nav-categories-list a {
  text-decoration: none;
  color: #333;
  font-size: 1.2rem;
  font-weight: 500;
  padding: 8px 16px;
  border-radius: 20px;
  border: 1px solid transparent;
  transition:
    color 0.3s ease,
    background-color 0.3s ease,
    border-color 0.3s ease,
    transform 0.2s ease;
}

.nav-categories-list a:hover {
  color: #1e7c3a;
  background: rgba(139, 195, 74, 0.1);
  border-color: rgba(139, 195, 74, 0.3);
}
/* Botón para abrir el menú de categorías */
.categories-btn {
  background: rgba(165, 214, 167, 0.1);
  border: 1px solid rgba(139, 195, 74, 0.3);
  padding: 10px 16px;
  border-radius: 25px;
  font-family: inherit;
  font-size: 1rem;
  font-weight: 500;
  color: #2e7d32;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition:
    background-color 0.3s ease,
    border-color 0.3s ease,
    transform 0.2s ease;
}

.categories-btn:hover {
  background: rgba(139, 195, 74, 0.2);
  border-color: rgba(139, 195, 74, 0.5);
}

/* Contenedor para los elementos de la derecha */
.nav-right {
  display: flex;
  align-items: center;
  gap: 1.3rem; /* Aumentamos el espacio para mayor separación */
}

/* Contenedor para los links que se ocultan en móvil */
.nav-desktop-links {
  display: flex;
  align-items: center;
}
/* Iconos de acción (Favoritos, Perfil) */
.nav-action {
  font-size: 1.2rem;
  color: #555;
  transition:
    color 0.3s,
    transform 0.3s;
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
}

.nav-action:hover {
  color: #1e7c3a;
  transform: scale(1.1);
}

/* Botón de perfil con imagen */
.profile-btn {
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px; /* Espacio entre la imagen y el futuro chevrón */
}

.profile-btn img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover; /* Evita que la imagen se deforme */
  transition: all 0.3s ease;
  border: 2px solid rgba(139, 195, 74, 0.4);
}

.profile-btn:hover img {
  transform: scale(1.05);
  border-color: rgba(139, 195, 74, 0.6);
}

.nav-cart {
  display: flex;
  align-items: center;
  background-color: rgba(30, 124, 58, 0.1);
  border: 1px solid rgba(30, 124, 58, 0.2);
  padding: 14px 32px;
  border-radius: 25px;
  text-decoration: none;
  transition:
    background-color 0.3s ease,
    border-color 0.3s ease,
    transform 0.2s ease;
}

.nav-cart:hover {
  background-color: rgba(30, 124, 58, 0.2);
  border-color: rgba(30, 124, 58, 0.4);
}

.nav-cart i {
  color: #1e7c3a;
  font-size: 1.2rem;
}

.cart-total {
  display: none;
  align-items: center;
  font-weight: 600;
  color: #1e7c3a;
}
.cart-total p {
  display: none;
  margin: 0;
}

/* Chevrón del perfil (oculto en desktop por defecto) */
.profile-chevron {
  /* Ahora visible en todos los tamaños */
  display: inline-block;
  color: #555; /* Color por defecto para desktop */
  font-size: 0.8rem; /* Tamaño por defecto para desktop */
  transition: transform 0.2s ease-in-out;
  margin-left: 5px; /* Pequeño espacio a la izquierda de la imagen */
}

.nav-auth-links {
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

/* Botón de autenticación mejorado */
.auth-button {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: linear-gradient(135deg, #1e7c3a, #165a29);
  color: white;
  padding: 14px 20px;
  border-radius: 50px;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(30, 124, 58, 0.2);
  border: none;
  cursor: pointer;
}

/* Botón más pequeño en mobile */
@media (max-width: 767px) {
  .auth-button {
    padding: 8px 14px; /* Actualizado para consistencia con la nueva reducción */
    gap: 4px;
  }

  .auth-button p {
    font-size: 0.7rem; /* Reducido ~30% de 0.85rem */
  }

  .auth-button i {
    font-size: 0.7rem; /* Reducido ~30% de 0.85rem */
  }
}
.auth-button p {
  display: flex;
  margin: 0;
  font-weight: 600;
  font-size: 0.9rem;
  text-decoration: none;
}

.auth-button:hover {
  background: linear-gradient(135deg, #165a29, #0f3a1a);
  box-shadow: 0 4px 12px rgba(30, 124, 58, 0.3);
  color: white;
}

.auth-button:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(30, 124, 58, 0.2);
}

/* Ocultamos la lista de PC y mostramos el botón de tablet */
.nav-categories-list {
  display: none;
}

/* Ocultamos el saludo de texto en móvil */
.nav-greeting {
  display: none;
}

/* Mostramos los links de móvil dentro del menú desplegable */
.nav-mobile-link {
  display: block;
}

/* Hacemos que el menú de perfil ocupe más espacio */
.nav-profile-menu .dropdown-content {
  width: 250px; /* Ancho fijo para el menú móvil */
}

/* Ajustamos el botón de autenticación para móvil */

.auth-button i {
  font-size: 0.9rem;
}

/* Mostramos y estilizamos el chevrón en móvil */

.nav-profile-menu.is-open .profile-chevron {
  transform: rotate(180deg);
}

/* Estilos para el submenú de categorías en móvil */
.mobile-submenu {
  list-style: none;
  padding-left: 1rem; /* Indenta las sub-opciones */
  margin-top: 0.5rem;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}

.nav-mobile-dropdown.is-open .mobile-submenu {
  max-height: 800px; /* Un valor suficientemente grande para mostrar todos los items */
}

.category-toggle {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.category-toggle .fa-chevron-right {
  transition: transform 0.3s ease-in-out;
}

.nav-mobile-dropdown.is-open .category-toggle .fa-chevron-right {
  transform: rotate(90deg);
}

.dropdown-item {
  text-align: center;
}

/* --- ESTILOS RESPONSIVE --- */

/* Estilos para dispositivos pequeños (móviles) - Reducción del 30% */
@media (max-width: 575px) {
  /* Navbar más pequeño en móviles */
  .navbar {
    height: 70px; /* Reducido de 100px */
    padding-right: 0 0.5rem; /* Reducido el padding */
  }

  /* Logo más pequeño */
  .nav-logo img {
    width: 51px; /* Reducido ~30% de 73px */
    height: auto;
  }

  /* Imagen de perfil más pequeña */
  .profile-btn img {
    width: 42px; /* Reducido ~30% de 60px */
    height: 42px;
  }

  /* Carrito más compacto */
  .nav-cart {
    padding: 10px 22px; /* Reducido ~30% de 14px 32px */
    border-radius: 18px; /* Reducido proporcionalmente */
  }

  /* Botones de categorías más pequeños */
  .categories-btn {
    padding: 7px 11px; /* Reducido ~30% de 10px 16px */
    border-radius: 18px; /* Reducido proporcionalmente */
    font-size: 0.85rem; /* Reducido ~30% */
  }

  /* Espaciado general reducido */
  .nav-right {
    gap: 0.9rem; /* Reducido ~30% de 1.3rem */
  }

  .order {
    padding: 0 calc(var(--spacing-md) * 0.7); /* Reducido ~30% */
  }

  /* Auth button más pequeño */
  .auth-button {
    padding: 8px 14px; /* Reducido ~30% de 12px 20px (ya había una regla, pero la mejoramos) */
    gap: 4px; /* Reducido */
  }

  /* Header principal con menos padding */
  .main-header {
    padding: 0 calc(var(--spacing-lg) * 0.7); /* Reducido ~30% */
  }
}

@media (min-width: 576px) {
  /* Estilos para tabletas en adelante */
  body {
    font-size: 16px;
  }
  .nav-logo {
    display: flex;
  }
  .nav-cart i {
    margin-right: 10px;
  }
  .cart-total {
    display: flex;
  }
  .cart-total p {
    display: block;
  }
  .link-inicio {
    display: none;
  }
}

@media (min-width: 768px) {
  .auth-button i {
    font-size: 1rem;
  }
}

@media (min-width: 992px) {
  /* Navbar más bajo en desktop */
  .navbar {
    height: 80px;
  }

  /* Logo más pequeño en desktop */
  .nav-logo img {
    width: 90px;
  }

  /* Imagen de perfil más pequeña en desktop */
  .profile-btn img {
    width: 50px;
    height: 50px;
  }

  /* Lista de categorías en la navbar de PC */
  .nav-categories-list {
    display: flex;
    align-items: center;
    margin: auto 0;
    padding: 0;
    gap: 1.4rem; /* Espacio entre links */
    list-style: none;
    margin-bottom: 0; /* Sin margen inferior */
  }
  /* Dropdown de categorías para Tablet (oculto en desktop) */
  .nav-tablet-categories {
    display: none;
  }
  /* Ocultamos los links de desktop */
  .nav-desktop-links {
    display: block;
  }

  /* Saludo al usuario en la barra de navegación */
  .nav-greeting {
    color: #333;
    font-weight: 500;
    font-size: 0.95rem;
  }
  /* Links que solo aparecen en el menú móvil */
  .nav-mobile-link {
    display: none;
  }
}

@media (min-width: 1200px) {
  /* Estilos para monitores muy grandes */
  .container {
    width: 1170px;
  }
  .auth-button p {
    display: inline;
  }
}
